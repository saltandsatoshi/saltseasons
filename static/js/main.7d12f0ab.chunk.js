(this["webpackJsonpsalt-and-satoshi"]=this["webpackJsonpsalt-and-satoshi"]||[]).push([[0],{358:function(e,t,n){},371:function(e,t){},373:function(e,t){},387:function(e,t){},388:function(e,t){},409:function(e,t){},411:function(e,t){},647:function(e,t){},649:function(e,t){},656:function(e,t){},657:function(e,t){},686:function(e,t){},716:function(e,t,n){"use strict";n.r(t);var a=n(7),s=n(4),r=n.n(s),i=n(92),c=n.n(i),o=(n(358),n(48)),l=n(735),u=n(5),d=n.n(u),p=n(81),b=n(57),j=n(314),f=n(315),h=n(316),y=n(318),m={eip1152contractAddress:"0xd07dc4262bcdbf85190c01c996b4c06a461d2430",minterAddress:"0x1efcb24f92daa1e04ba52e3d891beecee00c629d",firebaseConfig:{apiKey:"AIzaSyC8DwM9z-H9cSTCqHR4UGEvW86jL63sre0",projectId:"saltandsatoshi"},INFURA_JSON_RPC_API:{1:"https://mainnet.infura.io/v3/663207cc32894545b804fbc519d9fa2a",42:"https://kovan.infura.io/v3/663207cc32894545b804fbc519d9fa2a"},SELLER_CONTRACT_ADDRESS:{42:"0xD837F0658c74191056f222b3aCf3995e75AA3703"}},x=12e3,O=new j.a({supportedChainIds:[1,42]}),v=new f.a({rpc:{1:m.INFURA_JSON_RPC_API[1]},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:x}),g=new h.a({chainId:1,url:m.INFURA_JSON_RPC_API[1],pollingInterval:x}),w=new y.a({chainId:1,url:m.INFURA_JSON_RPC_API[1],pollingInterval:x,manifestEmail:"dummy@abc.xyz",manifestAppUrl:"http://localhost:1234"});var C=function(){return Object(a.jsx)("div",{style:{display:"flex",position:"absolute",top:"calc(50% - 100px)",width:"100%"},children:Object(a.jsx)("svg",{style:{margin:"auto",width:200,height:200},children:Object(a.jsx)("use",{width:80,height:80,href:"assets/icons.svg#refresh",fill:"#838b98",children:Object(a.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 40 40",to:"360 40 40",begin:"0s",dur:"4s",repeatCount:"indefinite"})})})})},S=function(e){e.children;var t=e.theConnector,n=e.title,s=Object(o.b)(),r=(s.connector,s.activate);return Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),r(t),!1},children:Object(a.jsx)("span",{className:"label",children:n})})};var T=function(){var e=Object(o.b)(),t=e.chainId,n=e.account,s=e.deactivate,r=(e.active,e.error);return n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),!1},children:Object(a.jsx)("span",{className:"label",children:n})})}),1!==t&&Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),!1},children:Object(a.jsxs)("span",{className:"label",children:["Network: ",t]})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),s(),!1},children:Object(a.jsx)("span",{className:"label",children:"Logout"})})})]}),r&&Object(a.jsxs)("p",{id:"text34",className:"style2",children:["\u26a0\ufe0f ",r.message]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)(S,{theConnector:O,title:"Metamask"})}),Object(a.jsx)("li",{children:Object(a.jsx)(S,{theConnector:g,title:"Ledger"})}),Object(a.jsx)("li",{children:Object(a.jsx)(S,{theConnector:w,title:"Trezor"})}),Object(a.jsx)("li",{children:Object(a.jsx)(S,{theConnector:v,title:"Walletconnect"})})]}),r&&Object(a.jsxs)("p",{id:"text34",className:"style2",children:["\u26a0\ufe0f ",r.message]})]})},k=n(196);n(705);k.a.initializeApp(m.firebaseConfig);var I=k.a.firestore().collection("saltseasons");function N(e){return A.apply(this,arguments)}function A(){return(A=Object(p.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.where("networkId","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){return e.data()})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=n(737),_=n(734),R=n(738),E=n(323);var M={TokenId:"20272",getJsonRpcProvider:function(e,t){return new E.a(e,t)}},F=n(324),L='[{"inputs":[{"internalType":"uint256","name":"_initialPrice","type":"uint256"},{"internalType":"uint256","name":"_priceStep","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payee","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"balance","type":"uint256"}],"name":"Sent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payer","type":"address"},{"indexed":false,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokenPurchase","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"inputs":[],"name":"currentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"destroy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceStep","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"purchaseToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_payee","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]';var U={contractABI:L,getContract:function(e,t){return new F.a(e,L,t)}},D=n(325);var J=function(e){return Object(a.jsx)(a.Fragment,{children:"\u039e".concat(Object(D.a)(e.number))})};var z=function(e){var t=M.getJsonRpcProvider(m.INFURA_JSON_RPC_API[e.saltSeason.networkId],e.saltSeason.networkId),n=Object(o.b)(),s=n.account,i=n.library,c=r.a.useState(void 0),l=Object(b.a)(c,2),u=l[0],j=l[1];r.a.useEffect((function(){if(void 0===u){var n=U.getContract(e.saltSeason.sellerContractAddress,t);j(n)}}),[u]);var f=r.a.useState(void 0),h=Object(b.a)(f,2),y=h[0],x=h[1];r.a.useEffect((function(){if(void 0===y&&s&&i){var t=i.getSigner(s),n=U.getContract(e.saltSeason.sellerContractAddress,t);x(n)}}),[y,s]);var O=r.a.useState(void 0),v=Object(b.a)(O,2),g=v[0],w=v[1];r.a.useEffect((function(){g||u&&Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.currentPrice();case 2:t=e.sent,w(t);case 4:case"end":return e.stop()}}),e)})))()}),[g,u]);var C=r.a.useState(void 0),S=Object(b.a)(C,2),T=S[0],k=S[1],I=e.saltSeason.tokenIds.length===e.saltSeason.purchasedItems+1,N=I?void 0:e.saltSeason.tokenIds[e.saltSeason.purchasedItems];return Object(a.jsxs)(P.a,{display:"flex",flexDirection:"row",justifyContent:"center",children:[Object(a.jsx)("div",{style:{flexBasis:"50%",backgroundImage:"url(".concat(e.saltSeason.posterUrl,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",minHeight:400}}),Object(a.jsxs)("div",{style:{flexBasis:"50%",padding:"3em",fontFamily:"MontserraT, sans-serif"},children:[Object(a.jsxs)("p",{children:["SEASON: ",e.saltSeason.number]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["TITLE: ",e.saltSeason.title]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["NUMBER CREATED: ",e.saltSeason.tokenIds.length]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["CURRENT PRICE: ",g?Object(a.jsx)(J,{number:g}):Object(a.jsx)(_.a,{size:15})]}),Object(a.jsx)("br",{}),Object(a.jsx)(P.a,{display:"flex",flexDirection:"row",justifyContent:"between",children:Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[!I&&!!g&&Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",style:{color:"lightgray",border:"solid 1px lightgray"},onClick:function(){var t=Object(p.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.stopPropagation(),k(void 0),s){t.next=4;break}return t.abrupt("return",k("Connect to blockchain"));case 4:return t.prev=4,t.next=7,u.purchaseToken(e.saltSeason.erc721ContractAddress,N,{value:g});case 7:t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(4),t.abrupt("return",k(t.t0.message));case 12:return t.abrupt("return",!1);case 13:case"end":return t.stop()}}),t,null,[[4,9]])})));return function(e){return t.apply(this,arguments)}}(),children:Object(a.jsx)("span",{className:"label",children:"Purchase"})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"https://redeem.saltandsatoshi.com/",target:"_blank",className:"button n01",style:{color:"lightgray",border:"solid 1px lightgray"},children:Object(a.jsx)("span",{className:"label",children:"Redeem"})})})]})}),T&&Object(a.jsx)(R.a,{label:T,color:"secondary"})]})]})};var H=function(){var e=Object(o.b)(),t=e.connector,n=e.chainId,i=r.a.useState(),c=Object(b.a)(i,2),l=c[0],u=c[1];r.a.useEffect((function(){l&&l===t&&u(void 0)}),[l,t]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.b)(),n=t.active,a=t.error,r=t.activate;Object(s.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!a&&!e){var s=function(){console.log("Handling 'connect' event"),r(O)},i=function(e){console.log("Handling 'chainChanged' event with payload",e),r(O)},c=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&r(O)},o=function(e){console.log("Handling 'networkChanged' event with payload",e),r(O)};return t.on("connect",s),t.on("chainChanged",i),t.on("accountsChanged",c),t.on("networkChanged",o),function(){t.removeListener&&(t.removeListener("connect",s),t.removeListener("chainChanged",i),t.removeListener("accountsChanged",c),t.removeListener("networkChanged",o))}}}),[n,a,e,r])}(!function(){var e=Object(o.b)(),t=e.activate,n=e.active,a=Object(s.useState)(!1),r=Object(b.a)(a,2),i=r[0],c=r[1];return Object(s.useEffect)((function(){O.isAuthorized().then((function(e){e?t(O,void 0,!0).catch((function(){c(!0)})):c(!0)}))}),[t]),Object(s.useEffect)((function(){!i&&n&&c(!0)}),[i,n]),i}()||!!l);var j=r.a.useState(void 0),f=Object(b.a)(j,2),h=f[0],y=f[1];return r.a.useEffect((function(){h||Object(p.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(n||42);case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})))()}),[h,n]),h?Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{id:"redemption-section",children:Object(a.jsx)("div",{id:"container19",className:"container default full screen",style:{minHeight:"auto"},children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"inner",style:{padding:"3em 6em 1em 6em"},children:[Object(a.jsx)("h2",{id:"text33",children:"SaltSeasons"}),Object(a.jsx)(T,{})]})})})}),Object(a.jsx)(P.a,{display:"flex",flexDirection:"column",style:{marginTop:"3em",color:"lightgray"},children:h.map((function(e){return Object(a.jsx)(z,{saltSeason:e})}))})]}):Object(a.jsx)(C,{})};function B(e){return new l.a(e)}var q=function(){return Object(a.jsx)(o.a,{getLibrary:B,children:Object(a.jsx)(H,{})})},W=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,956)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(q,{})}),document.getElementById("root")),W()}},[[716,1,2]]]);
//# sourceMappingURL=main.7d12f0ab.chunk.js.map