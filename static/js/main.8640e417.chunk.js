(this["webpackJsonpsalt-and-satoshi"]=this["webpackJsonpsalt-and-satoshi"]||[]).push([[0],{374:function(e,t,n){},387:function(e,t){},389:function(e,t){},403:function(e,t){},404:function(e,t){},425:function(e,t){},427:function(e,t){},663:function(e,t){},665:function(e,t){},672:function(e,t){},673:function(e,t){},702:function(e,t){},738:function(e,t,n){"use strict";n.r(t);var a=n(6),s=n(2),c=n.n(s),r=n(36),i=n.n(r),o=(n(374),n(53)),l=n(769),u=n(5),d=n.n(u),j=n(63),b=n(42),p=n(325),h=n(326),f=n(327),m=n(329),x={eip1152contractAddress:"0xd07dc4262bcdbf85190c01c996b4c06a461d2430",minterAddress:"0x1efcb24f92daa1e04ba52e3d891beecee00c629d",firebaseConfig:{apiKey:"AIzaSyC8DwM9z-H9cSTCqHR4UGEvW86jL63sre0",projectId:"saltandsatoshi"},INFURA_JSON_RPC_API:{1:"https://mainnet.infura.io/v3/663207cc32894545b804fbc519d9fa2a",42:"https://kovan.infura.io/v3/663207cc32894545b804fbc519d9fa2a"},SELLER_CONTRACT_ADDRESS:{42:"0xD837F0658c74191056f222b3aCf3995e75AA3703"}},O=12e3,y=new p.a({supportedChainIds:[1,42]}),v=new h.a({rpc:{1:x.INFURA_JSON_RPC_API[1]},bridge:"https://bridge.walletconnect.org",qrcode:!0,pollingInterval:O}),g=new f.a({chainId:1,url:x.INFURA_JSON_RPC_API[1],pollingInterval:O}),w=new m.a({chainId:1,url:x.INFURA_JSON_RPC_API[1],pollingInterval:O,manifestEmail:"dummy@abc.xyz",manifestAppUrl:"http://localhost:1234"});var C=function(){return Object(a.jsx)("div",{style:{display:"flex",position:"absolute",top:"calc(50% - 100px)",width:"100%"},children:Object(a.jsx)("svg",{style:{margin:"auto",width:200,height:200},children:Object(a.jsx)("use",{width:80,height:80,href:"assets/icons.svg#refresh",fill:"#838b98",children:Object(a.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 40 40",to:"360 40 40",begin:"0s",dur:"4s",repeatCount:"indefinite"})})})})},S=n(773),k=function(e){e.children;var t=e.theConnector,n=e.title,s=Object(o.b)(),c=(s.connector,s.activate);return Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),c(t),!1},children:Object(a.jsx)("span",{className:"label",children:n})})};var N=function(){var e=Object(o.b)(),t=e.chainId,n=e.account,s=e.deactivate,c=(e.active,e.error);return n?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),!1},children:Object(a.jsx)("span",{className:"label",children:n})})}),1!==t&&Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),!1},children:Object(a.jsxs)("span",{className:"label",children:["Network: ",t]})})}),Object(a.jsx)("li",{children:Object(a.jsx)("a",{href:"#",className:"button n01",onClick:function(e){return e.stopPropagation(),s(),!1},children:Object(a.jsx)("span",{className:"label",children:"Logout"})})})]}),c&&Object(a.jsxs)("p",{id:"text34",className:"style2",children:["\u26a0\ufe0f ",c.message]})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[Object(a.jsx)("li",{children:Object(a.jsx)(k,{theConnector:y,title:"Metamask"})}),Object(a.jsx)("li",{children:Object(a.jsx)(k,{theConnector:g,title:"Ledger"})}),Object(a.jsx)("li",{children:Object(a.jsx)(k,{theConnector:w,title:"Trezor"})}),Object(a.jsx)("li",{children:Object(a.jsx)(k,{theConnector:v,title:"Walletconnect"})})]}),c&&Object(a.jsx)(S.a,{style:{fontWeight:"normal",color:"#878E99"},className:"style2 with-cool-font",label:c.message,color:"primary"})]})},I=n(207);n(725);I.a.initializeApp(x.firebaseConfig);var T=I.a.firestore().collection("saltseasons");function P(e){return _.apply(this,arguments)}function _(){return(_=Object(j.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.where("networkId","==",t).get();case 2:return n=e.sent,a=n.docs.map((function(e){var t=e.data();return t.id=e.id,t})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=n(772),E=n(764),R=n(768),F=n(333),M=n.n(F),L=n(336);var z={TokenId:"20272",getJsonRpcProvider:function(e,t){return new L.a(e,t)}},U=n(337),H='[{"inputs":[{"internalType":"uint256","name":"_initialPrice","type":"uint256"},{"internalType":"uint256","name":"_priceStep","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[],"name":"Pause","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payee","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"balance","type":"uint256"}],"name":"Sent","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payer","type":"address"},{"indexed":false,"internalType":"address","name":"nftAddress","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"TokenPurchase","type":"event"},{"anonymous":false,"inputs":[],"name":"Unpause","type":"event"},{"inputs":[],"name":"currentPrice","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"destroy","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address payable","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"priceStep","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"_nftAddress","type":"address"},{"internalType":"uint256","name":"_tokenId","type":"uint256"}],"name":"purchaseToken","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_payee","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"sendTo","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"_newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"}]';var D={contractABI:H,getContract:function(e,t){return new U.a(e,H,t)}};var J={isMobile:function(){return window.innerWidth<750}},W=n(338);var q=function(e){return Object(a.jsx)(a.Fragment,{children:"\u039e".concat(Object(W.a)(e.number))})},B=n(335),G=n.n(B),K=n(771),Y=n(762),Q=n(763),V=n(765),X=n(766),Z=n(767);var $=function(e){var t=c.a.useState(!0),n=Object(b.a)(t,2),s=n[0],r=n[1];switch(e.state){case"MINING":return Object(a.jsxs)(K.a,{open:!0,children:[Object(a.jsx)(Y.a,{children:"Please wait"}),Object(a.jsx)(Q.a,{style:{padding:30},children:Object(a.jsx)(E.a,{})})]});case"FAILED":return Object(a.jsxs)(K.a,{open:s,onClose:function(){return r(!1)},children:[Object(a.jsx)(Y.a,{children:"Oops"}),Object(a.jsx)(Q.a,{style:{padding:30},children:Object(a.jsx)("p",{})}),Object(a.jsx)(V.a,{style:{padding:30},children:Object(a.jsx)(X.a,{onClick:function(){return r(!1)},children:"Close"})})]});case"SUCCESS":return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(K.a,{open:s,onClose:function(){return r(!1)},maxWidth:"lg",children:[Object(a.jsx)(Y.a,{children:"Hooray!"}),Object(a.jsxs)(Q.a,{style:{padding:30},children:[Object(a.jsx)(G.a,{}),Object(a.jsx)("p",{children:"You are the owner of unique SaltSeason"}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Now you can ",Object(a.jsx)("a",{href:"https://redeem.saltandsatoshi.com/",children:"redeem"})," your purchase"]})]}),Object(a.jsx)(V.a,{style:{padding:30},children:Object(a.jsx)(Z.a,{href:"https://redeem.saltandsatoshi.com/",children:"Redeem"})})]})})}};var ee=function(e){var t=e.saltSeason,n=z.getJsonRpcProvider(x.INFURA_JSON_RPC_API[t.networkId],t.networkId),s=Object(o.b)(),r=s.account,i=s.library,l=c.a.useState(void 0),u=Object(b.a)(l,2),p=u[0],h=u[1];c.a.useEffect((function(){if(void 0===p){var e=D.getContract(t.sellerContractAddress,n);h(e)}}),[p]);var f=c.a.useState(void 0),m=Object(b.a)(f,2),O=m[0],y=m[1];c.a.useEffect((function(){if(void 0===O&&r&&i){var e=i.getSigner(r),n=D.getContract(t.sellerContractAddress,e);y(n)}}),[O,r]);var v=c.a.useState(void 0),g=Object(b.a)(v,2),w=g[0],C=g[1];c.a.useEffect((function(){w||p&&Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.currentPrice();case 2:t=e.sent,C(t);case 4:case"end":return e.stop()}}),e)})))()}),[w,p]);var k=c.a.useState(void 0),N=Object(b.a)(k,2),I=N[0],T=N[1];c.a.useEffect((function(){I||p&&Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.priceStep();case 2:t=e.sent,T(t);case 4:case"end":return e.stop()}}),e)})))()}),[I,p]);var P=c.a.useState(void 0),_=Object(b.a)(P,2),F=_[0],L=_[1];c.a.useEffect((function(){p&&void 0===F&&p.queryFilter(p.filters.TokenPurchase).then((function(e){L(e.filter((function(e){return"TokenPurchase"===e.event})))}))}),[p,F]);var U=c.a.useState(void 0),H=Object(b.a)(U,2),W=H[0],B=H[1],G=c.a.useState(void 0),K=Object(b.a)(G,2),Y=K[0],Q=K[1],V=(F||[]).length,X=t.tokenIds.length<=V,Z=void 0!==F&&!!w,ee=X?void 0:t.tokenIds[V],te=c.a.useState(!1),ne=Object(b.a)(te,2),ae=ne[0],se=ne[1],ce=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw"Connect to blockchain (no account)";case 2:if(w){e.next=4;break}throw"Connect to blockchain (no contract data)";case 4:if(O){e.next=6;break}throw"Connect to blockchain (no contract)";case 6:if(ee){e.next=8;break}throw"Season is over";case 8:return e.next=10,O.purchaseToken(t.erc721ContractAddress,ee,{value:w});case 10:return n=e.sent,Q("MINING"),e.next=14,n.wait(1);case 14:if(0!==e.sent.status){e.next=17;break}throw"Transaction was reverted";case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=J.isMobile();return Object(a.jsxs)("div",{children:[Object(a.jsxs)(A.a,{display:"flex",flexDirection:re?"column":"row",justifyContent:"center",style:{marginBottom:"5em",width:"100%"},children:[Object(a.jsx)("div",{style:re?{padding:"1em"}:{flexGrow:1,width:"50%"},children:Object(a.jsx)(M.a,{showThumbnails:!1,showPlayButton:!1,items:t.posterUrls.map((function(e){return{original:e}})),renderItem:function(e){return Object(a.jsx)("div",{style:{backgroundImage:"url(".concat(e.original,")"),backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat",height:"500px",width:"100%"}})}})}),Object(a.jsxs)("div",{style:re?{padding:"1em"}:{flexGrow:1,width:"50%",padding:"0 3em"},className:"with-cool-font",children:[Object(a.jsxs)("p",{style:{fontSize:"2em",color:"#fff"},children:["Season ",t.number]}),Object(a.jsx)("br",{}),Object(a.jsx)("h5",{children:t.title}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{style:{fontWeight:"normal",color:"#878E99",textAlign:"justify",fontSize:"smaller"},className:"style2 with-cool-font",dangerouslySetInnerHTML:{__html:t.descriptionHtml}}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Edition of ",t.tokenIds.length]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{children:["Price ",w?Object(a.jsx)(q,{number:w}):Object(a.jsx)(E.a,{size:15})]}),Object(a.jsx)("br",{}),!!I&&!!w&&!!F&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("p",{children:["Price increment",Object(a.jsx)("sup",{children:"*"})," ",Object(a.jsx)(q,{number:I})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("p",{style:{fontSize:"small",color:"#878E99"},children:[Object(a.jsx)("sup",{children:"*"}),"\xa0The price begins at ",Object(a.jsx)(q,{number:w.sub(I.mul(F.length))})," and will increase by ",Object(a.jsx)(q,{number:I})," after each purchase to an end price of ",Object(a.jsx)(q,{number:w.add(I.mul(t.tokenIds.length-F.length))})]}),Object(a.jsx)("br",{})]}),Object(a.jsxs)(A.a,{display:"flex",flexDirection:"row",justifyContent:"between",children:[!Z&&Object(a.jsx)(E.a,{size:"20"}),Z&&Object(a.jsxs)(a.Fragment,{children:[X&&Object(a.jsx)("ul",{id:"buttons02",className:"style1 buttons",children:Object(a.jsx)("li",{children:Object(a.jsxs)("a",{href:"#",className:"button n01",children:[Object(a.jsx)("span",{className:"label",children:"Season is over"}),Object(a.jsx)(R.a,{style:{marginRight:"0.5em"},children:"done"})]})})}),!X&&Object(a.jsxs)("ul",{id:"buttons02",className:"style1 buttons",children:[Object(a.jsx)("li",{children:Object(a.jsxs)("a",{href:"#",className:"button n01",onClick:function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),B(void 0),e.prev=2,se(!0),e.next=6,ce();case 6:Q("MINING"),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(2),Q(void 0),console.error("[ERROR]",e.t0),B("".concat(e.t0.message||e.t0)),e.abrupt("return",!1);case 15:return e.prev=15,se(!1),e.finish(15);case 18:return Q("SUCCESS"),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[2,9,15,18]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(a.jsx)("span",{className:"label",children:"Purchase"}),Object(a.jsx)(R.a,{style:{marginRight:"0.5em"},children:"shopping_cart"})]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{href:"https://redeem.saltandsatoshi.com/",target:"_blank",className:"button n01",children:[Object(a.jsx)("span",{className:"label",children:"Redeem"}),Object(a.jsx)(R.a,{style:{marginRight:"0.5em"},children:"local_shipping"})]})})]})]})]}),W&&Object(a.jsx)(S.a,{label:W,color:"secondary"})]})]}),Y&&Object(a.jsx)($,{state:Y}),ae&&Object(a.jsx)("div",{className:"metmask-hint",children:Object(a.jsx)("span",{children:"Please confirm a pending Ethereum transaction."})})]})};var te=function(){var e=Object(o.b)(),t=e.connector,n=e.chainId,r=c.a.useState(),i=Object(b.a)(r,2),l=i[0],u=i[1];c.a.useEffect((function(){l&&l===t&&u(void 0)}),[l,t]),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(o.b)(),n=t.active,a=t.error,c=t.activate;Object(s.useEffect)((function(){var t=window.ethereum;if(t&&t.on&&!n&&!a&&!e){var s=function(){console.log("Handling 'connect' event"),c(y)},r=function(e){console.log("Handling 'chainChanged' event with payload",e),c(y)},i=function(e){console.log("Handling 'accountsChanged' event with payload",e),e.length>0&&c(y)},o=function(e){console.log("Handling 'networkChanged' event with payload",e),c(y)};return t.on("connect",s),t.on("chainChanged",r),t.on("accountsChanged",i),t.on("networkChanged",o),function(){t.removeListener&&(t.removeListener("connect",s),t.removeListener("chainChanged",r),t.removeListener("accountsChanged",i),t.removeListener("networkChanged",o))}}}),[n,a,e,c])}(!function(){var e=Object(o.b)(),t=e.activate,n=e.active,a=Object(s.useState)(!1),c=Object(b.a)(a,2),r=c[0],i=c[1];return Object(s.useEffect)((function(){y.isAuthorized().then((function(e){e?t(y,void 0,!0).catch((function(){i(!0)})):i(!0)}))}),[t]),Object(s.useEffect)((function(){!r&&n&&i(!0)}),[r,n]),r}()||!!l);var p=c.a.useState(void 0),h=Object(b.a)(p,2),f=h[0],m=h[1];return c.a.useEffect((function(){f||Object(j.a)(d.a.mark((function e(){var t,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n||42);case 2:t=e.sent,window.location.hash&&(a=window.location.hash.slice(1),t.some((function(e){return e.id===a}))&&(t=t.filter((function(e){return e.id===a})))),m(t);case 5:case"end":return e.stop()}}),e)})))()}),[f,n]),f?(document.querySelector("#main > .inner").style.paddingLeft=0,document.querySelector("#main > .inner").style.paddingRight=0,Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{id:"redemption-section",children:Object(a.jsx)("div",{id:"container19",className:"container default full screen",style:{minHeight:"auto"},children:Object(a.jsx)("div",{className:"wrapper",children:Object(a.jsxs)("div",{className:"inner",style:{padding:"3em 0em 1em 0em"},children:[Object(a.jsx)("h2",{id:"text33",style:{fontWeight:"normal",textTransform:"none",color:"#fff"},className:"with-cool-font",children:"Salt Seasons"}),Object(a.jsxs)("div",{style:{fontWeight:"normal",color:"#878E99"},className:"style2 with-cool-font",children:[Object(a.jsx)("p",{children:"Welcome to Salt Seasons - join us on the quest to close the divide between physical and digital collections."}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:'The first Salt Season, "Can\'t Be Stopped" consists of two editions of 20 unique collectible hoodies, each linked 1:1 to an NFT which is verifiable via an NFC tag.'})]}),Object(a.jsx)(N,{})]})})})}),Object(a.jsx)(A.a,{display:"flex",flexDirection:"column",style:{marginTop:"3em",color:"lightgray"},children:f.map((function(e){return Object(a.jsx)(ee,{saltSeason:e})}))})]})):Object(a.jsx)(C,{})};function ne(e){return new l.a(e)}var ae=function(){return Object(a.jsx)(o.a,{getLibrary:ne,children:Object(a.jsx)(te,{})})},se=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,991)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root")),se()}},[[738,1,2]]]);
//# sourceMappingURL=main.8640e417.chunk.js.map